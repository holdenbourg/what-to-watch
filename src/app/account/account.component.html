<head>
    <title>Home</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body (window:resize)="sidebarCloseOnResize()">
    <nav class="sidebar active">
        <div class="logo-menu">
            <h2 class="logo">Account</h2>
            <i class='bx bx-menu toggle-button' (click)="toggleActive()"></i>
        </div>

        <ul class="list">
            <li class="list-item">
                <a (click)="navigateToHome()">
                    <i class='bx bx-home-alt'></i>
                    <span class="link-name" style="--i:6;">Home</span>
                </a>
            </li>
            <li class="list-item">
                <a (click)="navigateToSearchMovies()">
                    <i class='bx bx-search'></i>
                    <span class="link-name" style="--i:5;">Search</span>
                </a>
            </li>
            <li class="list-item">
                <a (click)="navigateToMovies()">
                    <i class='bx bx-camera-movie'></i>
                    <span class="link-name" style="--i:4;">Movies</span>
                </a>
            </li>
            <li class="list-item">
                <a (click)="navigateToShows()">
                    <i class='bx bx-collection'></i>
                    <span class="link-name" style="--i:3;">Shows</span>
                </a>
            </li>
            <li class="list-item">
                <a (click)="navigateToSummary()">
                    <i class='bx bx-bar-chart-alt-2'></i>
                    <span class="link-name" style="--i:2;">Summary</span>
                </a>
            </li>
            <li class="list-item active">
                <a (click)="navigateToAccountsPosts()">
                    <i class='bx bx-user'></i>
                    <span class="link-name" style="--i:1;">Account</span>
                </a>
            </li>
            <li class="list-item">
                <a (click)="navigateToSettings()">
                    <i class='bx bx-cog'></i>
                    <span class="link-name" style="--i:2;">Settings</span>
                </a>
            </li>
            <li class="signed-in-as-username">
                 <p class="link-name" style="--i:3">Signed in as:</p> 
                 <p class="link-name" style="--i:3">{{ currentUser.username }}</p>
            </li>
        </ul>
    </nav>

    <div class="does-user-exist" *ngIf="doesUserExistResult == false">
        <div class="container">
            <p>User doesn't exist</p>
        </div>
    </div>
    <div class="is-current-user" *ngIf="isCurrentUserResult == true">
        <div class="container">
            <div class="account">
                <div class="account-information">
                    <img class="profile-picture" [src]="currentUser.profilePicture" [attr.alt]="currentUser.username">
                    <div class="account-information-text">
                        <div class="username-buttons">
                            <p class="username">{{ currentUser.username }}</p>
                            <button type="submit" class="edit-profile-button" (click)="onEditProfile()">Edit Profile</button>
                            <button type="submit" class="view-archive-button" (click)="onViewArchive()">View Archive</button>
                        </div>
                        <div class="posts-followers-following">
                            <p class="num-posts">{{ currentUser.posts.length }} posts</p>
                            <p class="num-followers" (click)="showFollowers()">{{ currentUser.followers.length }} followers</p>
                            <p class="num-following" (click)="showFollowing()">{{ currentUser.following.length }} following</p>
                        </div>
                        <div class="name-bio">
                            <p class="full-name">{{ currentUser.firstName }} {{ currentUser.lastName }}</p>
                            <p class="bio">{{ currentUser.bio }}</p>
                        </div>
                    </div>
                </div>
                <div class="post-options">
                    <div class="posts-button active">
                        <i class='bx bxs-grid'></i>
                        <i (click)="togglePosts()" class="posts">Posts</i>
                    </div>
                    <div class="tagged-button">
                        <i class='bx bx-purchase-tag-alt'></i>
                        <i (click)="toggleTaggedIn()" class="tagged">Tagged</i>
                    </div>
                </div>
                <div class="scroll-box">
                    <div class="user-posts">
                        <app-user-post-template
                            *ngFor="let post of currentUser.posts"
                            [userPost]="post" 
                            (click)="onPostClicked(post.postUrl)" 
                            class="user-post"
                        ></app-user-post-template>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="user-blocked-current-user" *ngIf="userBlockedCurrentUserResult == true">
        <div class="container">
            <p>User blocked current user</p>
        </div>
    </div>
    <div class="current-user-blocked-user" *ngIf="currentUserBlockedUserResult == true">
        <div class="container">
            <p>Current user blocked user</p>
        </div>
    </div>
    <div class="current-user-follows-user" *ngIf="currentUserFollowsUserResult == true">
        <div class="container">
            <p>Current user follows user</p>
        </div>
    </div>
    <div class="current-user-requested-user" *ngIf="currentUserRequestedUserResult == true">
        <div class="container">
            <p>Current user requested user</p>
        </div>
    </div>
    <div class="user-follows-current-user" *ngIf="userFollowsCurrentUserResult == true">
        <div class="container">
            <p>User follows current user</p>
        </div>
    </div>
    <div class="user-requested-current-user" *ngIf="userRequestedCurrentUserResult == true">
        <div class="container">
            <p>User requested current user</p>
        </div>
    </div>
    <div class="private-user-not-followed-by-current-user" *ngIf="privateUserNotFollowedByCurrentUserResult == true">
        <div class="container">
            <p>Private user not followed by current user</p>
        </div>
    </div>
    <div class="public-user-not-followed-by-current-user" *ngIf="publicUserNotFollowedByCurrentUserResult == true">
        <div class="container">
            <p>Public user not followed by current user</p>
        </div>
    </div>
</body>